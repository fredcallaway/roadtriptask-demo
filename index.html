<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <title>Psychology Experiment</title>
        <link rel="Favicon" href="static/favicon.ico" />

        <script src="static/lib/jquery-min.js"> </script>
        <script src="static/lib/jquery.autocomplete.min.js"> </script>
        <script src="static/lib/fontawesome.all.min.js"> </script>

        <script src="static/lib/underscore-min.js"> </script>
        <script src="static/lib/backbone-min.js"> </script>
        <script src="static/lib/d3.v3.min.js"> </script>
        <script src="static/lib/vis.min.js"> </script>
        <script src="static/lib/bootstrap.min.js"> </script>
        <script src="static/lib/Sortable.min.js"> </script>

        <link rel="stylesheet" href="static/lib/bootstrap.min.css" />
        <link rel="stylesheet" href="static/lib/fontawesome.all.min.css" />
        <link rel="stylesheet" href="static/lib/vis.min.css" />
        <link rel="stylesheet" href="static/css/roadtriptask.css" />

        <script src="static/js/dijkstra.js"> </script>

        <!-- psiTurk -->
        <script type="text/javascript">
            // These fields provided by the psiTurk Server
            var uniqueId = "{{ uniqueId }}";  // a unique string identifying the worker/task
            var condition = "{{ condition }}"; // the condition number
            var counterbalance = "{{ counterbalance }}"; // a number indexing counterbalancing conditions
            var adServerLoc = "{{ adServerLoc }}"; // the location of your ad (so you can send user back at end of experiment)
            var mode = "{{ mode }}";
        </script>


        <script src="static/js/psiturk.js" type="text/javascript"> </script>
        <script src="static/js/roadtriptask_base.js" type="text/javascript"> </script>
        <script src="static/js/roadtriptask_psiturk.js" type="text/javascript"> </script>
        <!-- <script src="static/js/Q.js" type="text/javascript"> </script> -->


        <!-- Stylesheets -->
        <link rel="stylesheet" href="static/css/roadtriptask.css" />
        <link rel=stylesheet href="static/css/bootstrap.min.css" type="text/css">

    </head>

    <body>
        <!-- Error messages -->
        <noscript>
            <h1>Warning: Javascript seems to be disabled</h1>
            <p>This website requires that Javascript be enabled on your browser.</p>
            <p>Instructions for enabling Javascript in your browser can be found
            <a href="http://support.google.com/bin/answer.py?hl=en&answer=23852">here</a><p>
        </noscript>
		
		<div id="preload_images" style="display:none"></div>
        <div class="overlayed"></div>
        <div id="map">
            <div id="canvas"></div>
        </div>
		<div id="cityinput">
			<input type="text" autocomplete="off" placeholder="City"></input>
            <input type="submit" value="Reveal"></input>
            <button id="finishedbutton" class="mybutton">Submit</button>
            <button id="nexttrialbutton" class="mybutton">Next</button>
        </div>
        <div id="feedback">
            <span style="font-size:4vh;text-align: center;"></span>
            <div class="loader"></div>
        </div>
        <p id = 'car' class='myicon' style = "display:none"><i class='fas fa-car-side'></i></p>
        <p id = 'star' class='myicon' style = "display:none"><i class='fas fa-star'></i></p>
        <div class="popup" id="instructions">
            <h4 style="font-size:4vh;">Instructions</h4>
            <img src=""></img>
            <button id="previousbutton" type="button" class="mybutton" style="bottom:8%;left:43%;width:10%">Previous</button>
            <button id="nextbutton" type="button" class="mybutton" style="bottom:8%;left:57%;width:10%">Next</button>
        </div>
        <div class="popup" id="comments">
            <h4 style="font-size:4vh;">Comments</h4>
            <p></p>
            <textarea id="comment_input" style="resize:none"></textarea>
            <button type="button" class="mybutton" style="bottom:8%;left:50%;width:10%">Next</button>
        </div>
        <div class="popup" id="attention_quiz">
            <h4 style="font-size:4vh;">Instructions</h4>
            <button type="button" class="mybutton" style="bottom:8%;left:50%;width:10%">Submit</button>
        </div>
		<div class="popup" id="window_error">
			<h4 style="font-size:4vh;">Window too small</h4>
			<p>Your browser window is too small for this experiment to run properly.<br><br>Please make your window larger, or if it is already maximized, return the study so someone else may do it.</p>
		</div>


        <div class="popup" id="database_error">
            <div class="alert alert-danger">
                <h4 style="font-size:4vh;">Error!</h4>
            </div>
            <p> We couldn't contact the database. We will try <b>1</b> more times before attempting to submit your HIT without saving the data. </p>
            <div class="load-icon"></div>
        </div>
        <div class="popup" id="give_up">
            <div class="alert alert-danger">
                <h4 style="font-size:4vh;">Error!</h4>
            </div>
            <p> We couldn't save your data! Please contact <u><font color="blue">fredcallaway@princeton.edu</font></u> to report the error. Then click the button below.</p>
            <button type="button" class="mybutton" id = "resubmit" style="bottom:8%;left:50%;width:15%">I reported the error</button>
        </div>
        <div class="popup" id="handle_error">
            <div class="alert alert-danger">
                <h4 style="font-size:4vh;">Error!</h4>
            </div>
            <p> The experiment encountered an error! <a>Click here</a> to report the error by email. Please describe at what point in the HIT the error occurred, and include the following:</p>
            <textarea disabled style="resize:none"></textarea>
            <p>Then click the button below to submit the HIT. If you have trouble submitting the HIT, please contact <u><font color="blue">fredcallaway@princeton.edu</font></u></p>
            <button type="button" class="mybutton" id = "submit_hit" style="bottom:8%;left:50%;width:15%">submit HIT</button>
        </div>
    </body>
</html>

